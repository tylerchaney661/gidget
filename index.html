<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gidget ¬∑ Hamster Tracker</title>

  <!-- Your styles -->
  <link rel="stylesheet" href="style.css?v=26" />
  <link rel="manifest" href="manifest.webmanifest" />

  <!-- Favicons / PWA icons are optional -->
</head>
<body>

  <!-- Top bar (shrinks/hides on scroll) -->
  <header id="topbar" class="topbar">
    <div class="left">
      <span class="brand">Gidget</span>
      <span class="status-dot" title="Online status"></span>
    </div>
    <div class="right">
      <!-- Unit + Theme controls (optional) -->
      <div class="unit-toggle">
        <button id="unitKm" class="btn small" title="Kilometres">km</button>
        <button id="unitMi" class="btn small" title="Miles">mi</button>
      </div>
      <div class="theme-toggle">
        <button id="themeLight" class="btn small" title="Light">‚òÄÔ∏è</button>
        <button id="themeSystem" class="btn small" title="System">üñ•</button>
        <button id="themeDark" class="btn small" title="Dark">üåô</button>
        <!-- Accent swatches (optional) -->
        <button class="swatch" data-accent="blue"   aria-label="Blue"></button>
        <button class="swatch" data-accent="mint"   aria-label="Mint"></button>
        <button class="swatch" data-accent="violet" aria-label="Violet"></button>
        <button class="swatch" data-accent="amber"  aria-label="Amber"></button>
        <button class="swatch" data-accent="rose"   aria-label="Rose"></button>
      </div>
    </div>
  </header>

  <main class="container">

    <!-- Dashboard -->
    <section class="grid gap">
      <div class="card">
        <div class="stat">
          <div class="stat-title">Today‚Äôs wake time</div>
          <div class="stat-value" id="dashWake">‚Äî</div>
        </div>
      </div>

      <!-- Distance stat card (clickable) -->
      <div class="card">
        <div class="stat" id="dashStepsBox" title="Tap to cycle today / week / month / year">
          <div class="stat-title" id="dashStepsLabel">Today‚Äôs distance</div>
          <div class="stat-value" id="dashSteps">‚Äî</div>
        </div>
      </div>
    </section>

    <!-- Tabs -->
    <nav id="tabs" class="tabs mt">
      <button class="tab active" data-tab="log"          aria-selected="true">Log</button>
      <button class="tab"         data-tab="trends">Trends</button>
      <button class="tab"         data-tab="calendar">Calendar</button>
      <button class="tab"         data-tab="entries">Entries</button>

      <span class="spacer"></span>

      <button class="tab"         data-tab="revs-log">Revolutions Log</button>
      <button class="tab"         data-tab="revs-trends">Revolutions Trends</button>
      <button class="tab"         data-tab="revs-calendar">Revolutions Calendar</button>
      <button class="tab"         data-tab="revs-entries">Revolutions Entries</button>
    </nav>

    <!-- Panels -->
    <!-- Wake: Log -->
    <section id="panel-log" class="tabpanel" role="region">
      <h3>Wake ‚Äî Log</h3>
      <div class="grid2 gap">
        <div class="col">
          <label>Date</label>
          <input id="date" type="date" />
        </div>
        <div class="col">
          <label>Wake-up time</label>
          <div class="row">
            <input id="wake" type="time" />
            <button id="nowBtn" class="btn small ml">Now</button>
          </div>
        </div>
        <div class="col">
          <label>Weight (g)</label>
          <input id="weight" type="number" min="0" step="1" />
        </div>
        <div class="col">
          <label>Mood</label>
          <input id="mood" type="text" />
        </div>
      </div>
      <label class="mt">Notes</label>
      <textarea id="notes" rows="3" placeholder="Anything notable‚Ä¶"></textarea>
      <div class="row mt end">
        <button id="clearForm" class="btn">Clear</button>
        <button id="save" class="btn solid">Save</button>
      </div>

      <p id="todayBox" class="muted mt">Loading today‚Ä¶</p>
      <div class="row gap mt">
        <span id="streak" class="chip">Streak: 0 days</span>
        <span id="avg7" class="chip">7-day avg: ‚Äî</span>
      </div>
    </section>

    <!-- Wake: Trends -->
    <section id="panel-trends" class="tabpanel" role="region" hidden>
      <h3>Wake ‚Äî Trends</h3>
      <div class="controls row gap mt">
        <button class="rangeBtn btn small" data-range="7">7d</button>
        <button class="rangeBtn btn small" data-range="30">30d</button>
        <button class="rangeBtn btn small" data-range="90">90d</button>
        <label class="ml">Smooth <input id="smooth" type="number" min="1" max="10" value="1" class="smallInput"></label>
      </div>
      <canvas id="chart" class="mt"></canvas>
    </section>

    <!-- Wake: Calendar -->
    <section id="panel-calendar" class="tabpanel" role="region" hidden>
      <div class="row between">
        <h3 id="calTitle" class="clickable">Month</h3>
        <div class="row gap">
          <button id="prevMonth" class="btn small">‚óÄ</button>
          <button id="todayMonth" class="btn small">Today</button>
          <button id="nextMonth" class="btn small">‚ñ∂</button>
        </div>
      </div>
      <!-- Hidden input month picker (triggered by clicking title) -->
      <input type="month" id="monthPicker" style="position:absolute;left:-9999px;opacity:0" aria-hidden="true">
      <div id="calendar" class="calendar mt"></div>
    </section>

    <!-- Wake: Entries -->
    <section id="panel-entries" class="tabpanel" role="region" hidden>
      <h3>Wake ‚Äî Entries</h3>
      <table id="table" class="mt">
        <thead>
          <tr><th>Date</th><th>Wake</th><th>Weight</th><th>Mood</th><th>Notes</th><th></th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Revolutions: Log -->
    <section id="panel-revs-log" class="tabpanel" role="region" hidden>
      <h3>Revolutions ‚Äî Log</h3>
      <div class="grid2 gap">
        <div class="col">
          <label>Date</label>
          <div class="row">
            <input id="revsDate" type="date" />
            <button id="revsTodayBtn" class="btn small ml">Today</button>
          </div>
        </div>
        <div class="col">
          <label>Revolutions</label>
          <input id="revsCount" type="number" min="0" step="1" />
        </div>
      </div>
      <label class="mt">Notes</label>
      <textarea id="revsNotes" rows="3" placeholder="Notes‚Ä¶"></textarea>
      <div class="row mt end">
        <button id="revsClear" class="btn">Clear</button>
        <button id="revsSave" class="btn solid">Save</button>
      </div>

      <p id="revsTodayBox" class="muted mt">Loading today‚Ä¶</p>
      <div class="row gap mt">
        <span id="revsStreak" class="chip">Streak: 0 days</span>
        <span id="revsAvg7" class="chip">7-day avg: ‚Äî</span>
      </div>
    </section>

    <!-- Revolutions: Trends -->
    <section id="panel-revs-trends" class="tabpanel" role="region" hidden>
      <h3>Revolutions ‚Äî Trends</h3>
      <div class="controls row gap mt">
        <button class="revsRangeBtn btn small" data-range="7">7d</button>
        <button class="revsRangeBtn btn small" data-range="30">30d</button>
        <button class="revsRangeBtn btn small" data-range="90">90d</button>
        <label class="ml">Smooth <input id="revsSmooth" type="number" min="1" max="10" value="1" class="smallInput"></label>
      </div>
      <canvas id="revsChart" class="mt"></canvas>
    </section>

    <!-- Revolutions: Calendar -->
    <section id="panel-revs-calendar" class="tabpanel" role="region" hidden>
      <div class="row between">
        <h3 id="revsCalTitle" class="clickable">Month</h3>
        <div class="row gap">
          <button id="revsPrevMonth" class="btn small">‚óÄ</button>
          <button id="revsTodayMonth" class="btn small">Today</button>
          <button id="revsNextMonth" class="btn small">‚ñ∂</button>
        </div>
      </div>
      <!-- Hidden input month picker -->
      <input type="month" id="revsMonthPicker" style="position:absolute;left:-9999px;opacity:0" aria-hidden="true">
      <div id="revsCalendar" class="calendar mt"></div>
    </section>

    <!-- Revolutions: Entries -->
    <section id="panel-revs-entries" class="tabpanel" role="region" hidden>
      <h3>Revolutions ‚Äî Entries</h3>
      <table id="revsTable" class="mt">
        <thead>
          <tr><th>Date</th><th>Revolutions</th><th>Distance</th><th>Notes</th><th></th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Import/Export (optional) -->
    <section class="row wrap gap mt">
      <button id="exportJson" class="btn small">Export JSON</button>
      <label class="btn small">
        Import JSON
        <input id="importJson" type="file" accept="application/json" hidden>
      </label>
      <button id="exportCsv" class="btn small">Export CSV</button>
      <label class="btn small">
        Import CSV
        <input id="importCsv" type="file" accept=".csv,text/csv" hidden>
      </label>
      <button id="installInfo" class="btn small">Install</button>
    </section>

  </main>

  <!-- Modal + Toast host -->
  <div id="modal" class="modal" hidden></div>
  <div id="toast" class="toast" hidden></div>

  <!-- FAB gets injected by JS -->

  <!-- Scripts -->
  <script src="app.js?v=26.6"></script>
</body>
</html>